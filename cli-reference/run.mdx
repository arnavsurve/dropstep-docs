---
title: "Run"
description: "Execute your Dropstep workflows."
icon: "person-running"
---

The `dropstep run` command is the entry point for executing your automated workflows. It reads your `dropstep.yml`, resolves variables from your `dsvars.yml` and environment, validates the entire configuration, and then executes the workflow.

## Usage

From your workflow's root directory, simply run:

```bash icon="terminal"
dropstep run
```

## Options

<ParamField path="--workflow" type="string" default="dropstep.yml">
    Specifies the path to the workflow configuration file to execute.
</ParamField>
<ParamField path="--varfile" type="string" default="dsvars.yml">
    Specifies the path to the YAML varfile containing values for your workflow's inputs. If this file doesn't exist, Dropstep will proceed but may fail if the workflow has required inputs.
</ParamField>

## Execution Process

When you invoke `dropstep run`, it performs the following sequence of actions:

**1. Initialize Logging:** Dropstep sets up a dual-logging system, outputting logs to both the console and a JSON log file in the `.dropstep/logs` directory.

**2. Load `.env` File:** It automatically loads environment variables from a `.env` file in the current directory (if present), making them available for your [varfile](/workflows/inputs-varfiles).

**3. Load Workflow and Varfile:** It parses your workflow and varfile.

**4. Resolve and Validate Inputs:** It resolves all variables from the varfile (including those from the environment via `{{ env.* }}`) and applies any `default` values for inputs that were not provided. It then performs the same validation as [`dropstep lint`](/cli-reference/lint), ensuring all `required` inputs are satisfied.

**5. Initialize Secrets Redaction:** It identifies all inputs marked as `secret: true` and initializes a redactor. From this point onward, the resolved values of these secrets will be replaced with `********` in all log outputs.

**6. Resolve Providers:** It configures any [providers](/workflows/providers) defined in your workflow, resolving API keys from inputs or environment variable fallbacks.

**7. Final Validation:** It performs a final validation of all step runners to ensure they are correctly configured with the resolved variables.

**8. Execute Steps:** The engine begins executing steps sequentially. Each step's output is made available to subsequent steps via [templating](/workflows/templating).

**9. Store Outputs:** Step outputs, especially from `browser_agent` steps, are saved to the `.dropstep/output` directory.

If any step fails, the workflow execution halts immediately and the `dropstep` command exits with an error.

## The `.dropstep/` Directory

On execution, Dropstep creates a `.dropstep` directory in your project's root to store artifacts for each run.

```
.dropstep/
├── logs/
│   └── <run_id_1>.json
│   └── <run_id_2>.json
└── output/
    └── <step_id>_output.json
    └── <step_id>_default_downloads/
        └── downloaded_file.pdf
```

<ResponseField name="logs/" type="directory">
    Contains detailed, structured JSON logs for every workflow run. Each run is identified by a unique UUID. This is invaluable for debugging complex workflows.
</ResponseField>
<ResponseField name="output/" type="directory">
    This directory is the destination for files generated by steps.

    `<step_id>_output.json`
    - The `browser_agent` saves its structured JSON output here. The path to this file is available via the `{{ steps.<step_id>.output_file }}` template variable.

    `<step_id>_default_downloads/`
    - If a `browser_agent` step downloads a file and no custom `download_dir` is specified, the file will be saved here.
</ResponseField>

## Example Output

A successful run will show a mix of informational logs, step-specific logs, and a final success message.

```bash icon="terminal"
INFO[2024-08-01T12:30:00Z] Successfully loaded workflow: HTTP Test Workflow
INFO[2024-08-01T12:30:00Z] Successfully loaded and resolved varfile: dsvars.yml
INFO[2024-08-01T12:30:00Z] Required input validation passed
INFO[2024-08-01T12:30:00Z] Workflow validation passed
INFO[2024-08-01T12:30:00Z] Starting workflow: "HTTP Test Workflow" (run ID: <uuid>)
...
INFO[2024-08-01T12:30:01Z] step_id=get_user_data step_uses=http Executing HTTP call...
...
INFO[2024-08-01T12:30:02Z] step_id=print_post_id step_uses=shell --- E2E HTTP Test Results ---
INFO[2024-08-01T12:30:02Z] step_id=print_post_id step_uses=shell GET User Name: Leanne Graham
INFO[2024-08-01T12:30:02Z] step_id=print_post_id step_uses=shell POST Status Code: 201
INFO[2024-08-01T12:30:02Z] step_id=print_post_id step_uses=shell -----------------------------

INFO[2024-08-01T12:30:03Z] Workflow completed successfully. Logs can be found at ".dropstep/logs/<uuid>.json"
INFO[2024-08-01T12:30:03Z] Shutting down logger...
```